---
title: GoF本 Discussions of Structural Patterns
tags:
- 勉強メモ
- デザインパターン
- GoF
date: 2018-12-23T06:26:01+09:00
URL: https://wand-ta.hatenablog.com/entry/2018/12/23/062601
EditURL: https://blog.hatena.ne.jp/wand_ta/wand-ta.hatenablog.com/atom/entry/10257846132687836795
---




# 構造のパターンの類似性

- 登場人物と、クライアントコードからの利用が類似している
- が、ねらいが全然違う
    - 【所感】**構造**と**ねらい**が**ひとまとめでデザインパターン**ということですね
    

# AdapterとBridge

## 共通点

- 柔軟性を上げる
- 間接層を1枚増やし、処理を委譲する

## 相違点


|              | Adapter                                                                                                | Bridge                                                           |
|--------------|--------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| ねらい       | 既存の2つのクラスのインタフェース不一致を吸収する<br>作り直すのは大変なので、一方を他方のインタフェースで包む | 実装の抽象化<br>クライアントコードと実装とを独立して開発できるようにする |
| いつ導入される | 後期<br>2つのクラスを一様に扱うべきということが、当初予期できなかった         | 最初期<br>あらかじめ、複数の実装を一様に扱うつもりで導入する                 |



# AdapterとFacade

言うほど似てなくないか

- Facadeは、複数のクラスからなるサブシステムに**新しいインタフェースを提供する**
- Adapterは、インタフェースが合わない2つのクラスがあるとき、一方を他方の**既存インタフェースに寄せる**




# CompositeとDecorator

## 共通点

- 再帰構造
    - DecoratorはCompositeの縮退バージョンと捉えられる
        - 子ノードが1つだけ
        
## 相違点

|                  | Composite                     | Decorator                                                                            |
|------------------|-------------------------------|--------------------------------------------------------------------------------------|
| ねらい           | 1と部分と全とを一様に扱うこと | オブジェクトへの責務の動的な追加<br>クラスの継承で静的に行うと派生クラス数が爆発する |


## 併用

- CompositeパターンとDecoratorとは相補的で、一緒に使われることが多い
    - Compositeパターンにおいて、`Decorator`は`Leaf`に相当する
    - Decoratorパターンにおいて、`Composite`は`ConcreteComponent`に相当する
    
    
    
# DecoratorとProxy

## 共通点

- 間接層

## 相違点


|                          | Decorator                                                                                      | Proxy                    |
|--------------------------|------------------------------------------------------------------------------------------------|--------------------------|
| ねらい                   | 責務を動的に追加(・削除)すること、<br>それを再帰的に行えること                                 | アクセス制御             |
| 包むオブジェクトとの関係 | 機能が足りないので補完する                                                                     | 機能を制限することがある |
| 構造はいつきまる                         | 実行時<br>どの機能が必要かは実行時までわからない<br>静的にすべてを網羅しようとすると組み合わせが爆発する | コンパイル時<br>どのクラスのどの機能にアクセス制御すべきかは静的にわかっている                         |




----------------------------------------

# 英語

- stand-in
    - 代理
        - Proxyと同義か類義
